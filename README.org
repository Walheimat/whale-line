* whale-line.el

#+BEGIN_HTML
<a href='https://coveralls.io/github/Walheimat/whale-line?branch=trunk'>
    <img
        src='https://coveralls.io/repos/github/Walheimat/whale-line/badge.svg?branch=trunk'
        alt='Coverage Status'
    />
</a>
#+END_HTML

This package is my personal Emacs mode-line.

It displays buffer information in two sections. Each section has its
dedicated segments. Segments come in various priorities that will
determine if they are shown. Some are only shown on the selected
window, some are hidden if there isn't enough space (split windows).

** Installation

If you use =straight= or =quelpa=, you know what to do.

If you're on Emacs >29, I recommend using =package-vc-install=.

Alternatively, provided you have Cask, you can install the package
with =make package-install=.

** Configuration

The position and order of the segments can be controlled by
customizing =whale-line-segments=. You can freely re-arrange them,
leave some out, add your custom ones.

If you move, add or remove a segment after loading the package, you
will need to call =whale-line-rebuild=.

#+BEGIN_SRC emacs-lisp
(use-package whale-line
  :config
  (whale-line-mode +1)

  :custom
  (whale-line-segments '(buffer-icon
                         buffer-identification
                         org
                         buffer-status
                         position
                         lsp
                         selection
                         cursors
                         process
                         window-status
                         | ;; Divides into left and right.
                         minor-modes
                         misc-info
                         project
                         vc
                         tab-bar
                         animation))

  ;; Strategy to use when there's not enough space to render all segments.
  (whale-line-segment-strategy 'prioritize) ; Other options are `elide' and `ignore'.

  ;; Animation.
  (whale-line-animation-key-frames [
                                  "   "
                                  ".  "
                                  ".. "
                                  "..."
                                  " .."
                                  "  ."
                                  ])
  (whale-line-animation-speed 0.4)

  ;; Project provider.
  (whale-line-project-provider 'projectile) ; Default is `project'.)
#+END_SRC

** Example Screenshot

Modeline in a split frame (theme is =kaolin-galaxy=).

[[file:assets/mode-line-selected.png]]

The left window is selected and shows:

- file buffer icon using =all-the-icons=
- status (warnings) using =flycheck=
- position in =org= document
- buffer-status (edited)
- file position
- selection (6 lines)
- minimized minor modes using =minions=
- project
- version control status (unedited)
- =tab-bar-mode= name
- animation

The right window hides segments with low priority.

[[file:assets/mode-line-deselected.png]]
